# Event Emitter

A JavaScript/TypeScript implementation of an EventEmitter class similar to those found in Node.js or the DOM Event Target interface. This class allows for subscribing to events and emitting them with proper callback management.

## Features

- **Subscribe** to events with callback functions
- **Emit** events with optional arguments
- **Unsubscribe** from events individually
- Support for multiple listeners per event
- Maintains callback execution order
- TypeScript support with proper type definitions

## API Reference

### `subscribe(eventName: string, callback: Function): Object`

Subscribes to an event with a callback function.

**Parameters:**
- `eventName` (string): The name of the event to subscribe to
- `callback` (Function): The callback function to execute when the event is emitted

**Returns:** An object with an `unsubscribe` method

### `emit(eventName: string, args: any[] = []): any[]`

Emits an event, calling all subscribed callbacks.

**Parameters:**
- `eventName` (string): The name of the event to emit
- `args` (any[], optional): Array of arguments to pass to callback functions

**Returns:** Array of results from all callback calls, in subscription order

### `unsubscribe(): void`

Removes the subscription from the event. Called via the object returned by `subscribe()`.

## Usage Examples

### JavaScript

```javascript
const emitter = new EventEmitter();

// Subscribe to events
function onClickCallback() { return 99 }
const sub = emitter.subscribe('onClick', onClickCallback);

// Emit events
console.log(emitter.emit('onClick')); // [99]

// Unsubscribe
sub.unsubscribe(); // undefined
console.log(emitter.emit('onClick')); // []
```

### TypeScript

```typescript
const emitter = new EventEmitter();

// Subscribe with type-safe callbacks
const sub = emitter.subscribe('onClick', (x: number) => x + 1);

// Emit with arguments
console.log(emitter.emit('onClick', [5])); // [6]

// Unsubscribe
sub.unsubscribe();
```

## Advanced Examples

### Multiple Subscriptions

```javascript
const emitter = new EventEmitter();

// Multiple callbacks for same event
const sub1 = emitter.subscribe('firstEvent', () => 5);
const sub2 = emitter.subscribe('firstEvent', () => 6);

console.log(emitter.emit('firstEvent')); // [5, 6]
```

### With Arguments

```javascript
const emitter = new EventEmitter();

emitter.subscribe('firstEvent', (...args) => args.join(','));
console.log(emitter.emit('firstEvent', [1, 2, 3])); // ["1,2,3"]
console.log(emitter.emit('firstEvent', [3, 4, 6])); // ["3,4,6"]
```

### Unsubscribing Specific Callbacks

```javascript
const emitter = new EventEmitter();

const sub1 = emitter.subscribe('firstEvent', x => x + 1);
const sub2 = emitter.subscribe('firstEvent', x => x + 2);

sub1.unsubscribe(); // Remove only the first subscription
console.log(emitter.emit('firstEvent', [5])); // [7] (only second callback remains)
```

## Implementation Details

### Data Structure
- Uses a `Map` to store events
- Each event maps to an array of subscription objects
- Each subscription has a unique ID and callback function

### Time Complexity
- **subscribe**: O(1)
- **emit**: O(n) where n is number of subscriptions for the event
- **unsubscribe**: O(n) where n is number of subscriptions for the event

### Space Complexity
- O(n) where n is total number of subscriptions across all events

## Constraints Handled

- ✅ Multiple listeners per event
- ✅ Callback execution in subscription order
- ✅ Optional arguments for emit
- ✅ Proper unsubscription management
- ✅ No referentially identical callbacks assumed
- ✅ Empty array returned when no subscriptions exist

## TypeScript Support

The TypeScript version includes proper type definitions:
- `Callback` type for callback functions
- `Subscription` type for unsubscribe functionality
- Type-safe arguments and return values

## Browser Compatibility

This implementation works in all modern browsers and environments that support:
- ES6 Maps
- ES6 classes
- Rest parameters (`...args`)

## License

This implementation is provided for educational and practical use in coding interviews and projects.
