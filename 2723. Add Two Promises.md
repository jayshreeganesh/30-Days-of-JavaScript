# Add Two Promises

## Problem Description

Given two promises `promise1` and `promise2`, return a new promise. Both `promise1` and `promise2` will resolve with a number. The returned promise should resolve with the sum of the two numbers.

## Examples

### Example 1
```javascript
promise1 = new Promise(resolve => setTimeout(() => resolve(2), 20))
promise2 = new Promise(resolve => setTimeout(() => resolve(5), 60))
// Output: 7
// Explanation: The two input promises resolve with values 2 and 5 respectively.
// The returned promise resolves with 2 + 5 = 7.
```

### Example 2
```javascript
promise1 = new Promise(resolve => setTimeout(() => resolve(10), 50))
promise2 = new Promise(resolve => setTimeout(() => resolve(-12), 30))
// Output: -2
// Explanation: The two input promises resolve with values 10 and -12 respectively.
// The returned promise resolves with 10 + (-12) = -2.
```

## Solutions

### JavaScript Solution

```javascript
/**
 * @param {Promise} promise1
 * @param {Promise} promise2
 * @return {Promise}
 */
var addTwoPromises = async function(promise1, promise2) {
    const [value1, value2] = await Promise.all([promise1, promise2]);
    return value1 + value2;
};
```

### TypeScript Solution

```typescript
type P = Promise<number>

async function addTwoPromises(promise1: P, promise2: P): P {
    const [value1, value2] = await Promise.all([promise1, promise2]);
    return value1 + value2;
};
```

## Alternative Approaches

### Using `.then()` Chain
```javascript
var addTwoPromises = async function(promise1, promise2) {
    return promise1.then(val1 => promise2.then(val2 => val1 + val2));
};
```

### Using Promise Constructor
```javascript
var addTwoPromises = function(promise1, promise2) {
    return new Promise((resolve) => {
        Promise.all([promise1, promise2]).then(([val1, val2]) => {
            resolve(val1 + val2);
        });
    });
};
```

## How It Works

1. **Concurrent Execution**: The solution uses `Promise.all()` to wait for both promises to resolve concurrently, not sequentially
2. **Value Extraction**: Array destructuring `[value1, value2]` extracts the resolved values from both promises
3. **Sum Calculation**: The function returns the sum of the two values, which is automatically wrapped in a promise (due to the `async` function)

## Complexity Analysis

- **Time Complexity**: O(max(p1, p2)) where p1 and p2 are the resolution times of the two promises
- **Space Complexity**: O(1) - constant extra space used

## Usage

```javascript
// Example usage
addTwoPromises(Promise.resolve(2), Promise.resolve(2))
    .then(console.log); // 4

addTwoPromises(
    new Promise(resolve => setTimeout(() => resolve(10), 50)),
    new Promise(resolve => setTimeout(() => resolve(-12), 30))
).then(console.log); // -2
```

## Constraints

- `promise1` and `promise2` are promises that resolve with a number
- The time the returned promise resolves is not judged for this problem

## Key Features

- **Clean and Readable**: The solution is concise and easy to understand
- **Efficient**: Handles both promises concurrently for optimal performance
- **Type Safe** (TypeScript version): Ensures proper typing for inputs and output
- **Robust**: Properly handles the asynchronous nature of promise operations
