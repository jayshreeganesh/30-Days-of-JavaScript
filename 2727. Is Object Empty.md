# 2727. Is Object Empty

## Problem Description

Given an object or an array, return if it is empty.

- An empty object contains no key-value pairs.
- An empty array contains no elements.
- You may assume the object or array is the output of `JSON.parse`.

### Examples

**Example 1:**
```javascript
Input: obj = {"x": 5, "y": 42}
Output: false
Explanation: The object has 2 key-value pairs so it is not empty.
```

**Example 2:**
```javascript
Input: obj = {}
Output: true
Explanation: The object doesn't have any key-value pairs so it is empty.
```

**Example 3:**
```javascript
Input: obj = [null, false, 0]
Output: false
Explanation: The array has 3 elements so it is not empty.
```

### Constraints

- `obj` is a valid JSON object or array
- `2 <= JSON.stringify(obj).length <= 105`
- Should be solved in **O(1)** time complexity

## Solutions

### JavaScript Solution

```javascript
/**
 * @param {Object|Array} obj
 * @return {boolean}
 */
var isEmpty = function(obj) {
    if (Array.isArray(obj)) {
        return obj.length === 0;
    } else {
        return Object.keys(obj).length === 0;
    }
};
```

### TypeScript Solution

```typescript
type JSONValue = null | boolean | number | string | JSONValue[] | { [key: string]: JSONValue };
type Obj = Record<string, JSONValue> | JSONValue[]

function isEmpty(obj: Obj): boolean {
    if (Array.isArray(obj)) {
        return obj.length === 0;
    } else {
        return Object.keys(obj).length === 0;
    }
};
```

### Alternative Solutions

**Solution 2: Using for-in loop (early termination)**
```javascript
var isEmpty = function(obj) {
    for (let _ in obj) return false;
    return true;
};
```

**Solution 3: More explicit type checking (TypeScript)**
```typescript
function isEmpty(obj: Obj): boolean {
    if (Array.isArray(obj)) {
        return obj.length === 0;
    } else if (obj !== null && typeof obj === 'object') {
        return Object.keys(obj).length === 0;
    }
    return true;
};
```

## Complexity Analysis

- **Time Complexity:** O(1)
  - `Array.isArray()` is O(1)
  - Checking `array.length` is O(1)
  - `Object.keys()` on an empty object returns immediately
  - The for-in loop either finds a property immediately or determines there are none

- **Space Complexity:** O(1)
  - No additional data structures that scale with input size

## Key Insights

1. **Array Detection**: Use `Array.isArray()` to distinguish between arrays and objects
2. **Empty Check**: 
   - For arrays: check if `length === 0`
   - For objects: check if `Object.keys(obj).length === 0`
3. **Performance**: All solutions achieve O(1) time complexity by leveraging built-in properties and early termination

## Test Cases

```javascript
console.log(isEmpty({"x": 5, "y": 42})); // false
console.log(isEmpty({}));                 // true
console.log(isEmpty([null, false, 0]));  // false
console.log(isEmpty([]));                 // true
```

## Recommendation

The **first solution** using `Array.isArray()` with direct length checking is recommended as it's the most readable and clearly expresses the intent while maintaining O(1) time complexity.
